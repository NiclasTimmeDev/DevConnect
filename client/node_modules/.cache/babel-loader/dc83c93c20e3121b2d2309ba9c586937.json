{"ast":null,"code":"import axios from \"axios\";\nimport setAlert from \"./alert\";\nimport * as types from \"./types\";\nexport const getPosts = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(\"/api/posts\");\n      dispatch({\n        type: types.GET_POSTS,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\nexport const addPost = formData => {\n  return async dispatch => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      const res = await axios.post(\"/api/posts\", formData, config);\n      dispatch({\n        type: types.ADD_POST,\n        payload: res.data\n      });\n      dispatch(setAlert(\"Post created\", \"success\"));\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\nexport const addLike = postId => {\n  return async dispatch => {\n    try {\n      const res = await axios.put(`/api/posts/like/${postId}`);\n      dispatch({\n        type: types.UPDATE_LIKES,\n        payload: {\n          postId,\n          likes: res.data\n        }\n      });\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\nexport const removeLike = postId => {\n  return async dispatch => {\n    try {\n      const res = await axios.put(`/api/posts/unlike/${postId}`);\n      dispatch({\n        type: types.UPDATE_LIKES,\n        payload: {\n          postId,\n          likes: res.data\n        }\n      });\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\nexport const deletePost = postId => {\n  return async dispatch => {\n    try {\n      const res = await axios.delete(`/api/posts/${postId}`);\n      dispatch({\n        type: types.DELETE_POST,\n        postId: postId\n      });\n      dispatch(setAlert(\"Post removed\", \"success\"));\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/Users/niclastimm/code/Udemy/MERN/DevConnector/client/src/store/actions/post.js"],"names":["axios","setAlert","types","getPosts","dispatch","res","get","type","GET_POSTS","payload","data","error","console","log","message","POST_ERROR","msg","response","statusText","status","addPost","formData","config","headers","post","ADD_POST","addLike","postId","put","UPDATE_LIKES","likes","removeLike","deletePost","delete","DELETE_POST"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport setAlert from \"./alert\";\nimport * as types from \"./types\";\n\nexport const getPosts = () => {\n  return async dispatch => {\n    try {\n      const res = await axios.get(\"/api/posts\");\n      dispatch({\n        type: types.GET_POSTS,\n        payload: res.data\n      });\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\n\nexport const addPost = formData => {\n  return async dispatch => {\n    try {\n      const config = {\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      };\n      const res = await axios.post(\"/api/posts\", formData, config);\n\n      dispatch({\n        type: types.ADD_POST,\n        payload: res.data\n      });\n      dispatch(setAlert(\"Post created\", \"success\"));\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\n\nexport const addLike = postId => {\n  return async dispatch => {\n    try {\n      const res = await axios.put(`/api/posts/like/${postId}`);\n      dispatch({\n        type: types.UPDATE_LIKES,\n        payload: { postId, likes: res.data }\n      });\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\n\nexport const removeLike = postId => {\n  return async dispatch => {\n    try {\n      const res = await axios.put(`/api/posts/unlike/${postId}`);\n      dispatch({\n        type: types.UPDATE_LIKES,\n        payload: { postId, likes: res.data }\n      });\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\n\nexport const deletePost = postId => {\n  return async dispatch => {\n    try {\n      const res = await axios.delete(`/api/posts/${postId}`);\n      dispatch({\n        type: types.DELETE_POST,\n        postId: postId\n      });\n      dispatch(setAlert(\"Post removed\", \"success\"));\n    } catch (error) {\n      console.log(error.message);\n      dispatch({\n        type: types.POST_ERROR,\n        payload: {\n          msg: error.response.statusText,\n          status: error.response.status\n        }\n      });\n    }\n  };\n};\n"]},"metadata":{},"sourceType":"module"}